@using chd.UI.Base.Components.General.ErrorHandling

<CascadingToolTip>
    <CascadingDropList>
        <CascadingBlazoredModal Position="ModalPosition.Middle" AnimationType="ModalAnimationType.None" Size="ModalSize.Automatic" HideCloseButton="false">
            <CustomErrorBoundary HandleError="HandleError" IsDeveloperMode="@this._isDeveloperMode">
                <Router AppAssembly="@typeof(Main).Assembly">
                    <Found Context="routeData">
                        <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(chdScoring.App.UI.Shared.MainLayout)">
                            <NotAuthorized>
                                <RedirectToHome Text="Keine Berechtigung" Delay="3" />
                            </NotAuthorized>
                        </AuthorizeRouteView>
                        <FocusOnNavigate RouteData="@routeData" Selector="h1" />
                    </Found>
                    <NotFound>
                        <LayoutView Layout="@typeof(chdScoring.App.UI.Shared.MainLayout)">
                            <RedirectToHome Delay="0" HomeUri="x => x.BaseUri" Text="" />
                        </LayoutView>
                    </NotFound>
                </Router>
            </CustomErrorBoundary>
        </CascadingBlazoredModal>
    </CascadingDropList>
</CascadingToolTip>
